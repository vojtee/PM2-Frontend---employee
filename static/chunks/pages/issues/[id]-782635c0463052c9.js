(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[883],{1023:function(e,t,s){"use strict";var i=s(4836);t.Z=void 0;var n=i(s(4938)),a=s(5893),r=(0,n.default)((0,a.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBack");t.Z=r},6242:function(e,t,s){"use strict";s.d(t,{Z:function(){return g}});var i=s(7462),n=s(3366),a=s(7294),r=s(6010),o=s(4780),l=s(948),d=s(1657),u=s(1791),c=s(1588),h=s(4867);function Z(e){return(0,h.Z)("MuiCard",e)}(0,c.Z)("MuiCard",["root"]);var x=s(5893);let j=["className","raised"],p=e=>{let{classes:t}=e;return(0,o.Z)({root:["root"]},Z,t)},f=(0,l.ZP)(u.Z,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"})),v=a.forwardRef(function(e,t){let s=(0,d.Z)({props:e,name:"MuiCard"}),{className:a,raised:o=!1}=s,l=(0,n.Z)(s,j),u=(0,i.Z)({},s,{raised:o}),c=p(u);return(0,x.jsx)(f,(0,i.Z)({className:(0,r.Z)(c.root,a),elevation:o?8:void 0,ref:t,ownerState:u},l))});var g=v},4242:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/issues/[id]",function(){return s(7391)}])},7391:function(e,t,s){"use strict";s.r(t);var i=s(5893),n=s(7357),a=s(5582),r=s(6447),o=s(6242),l=s(8445),d=s(7720),u=s(4267),c=s(6886),h=s(5861),Z=s(3321),x=s(8334),j=s(7294),p=s(1023),f=s(4674),v=s(1664),g=s.n(v),k=s(2662),w=s(6822),m=s(1163);let y=()=>{let e=(0,m.useRouter)(),{id:t}=e.query,s=async e=>{try{let t=await x.get("/api/v1/issues/"+e);console.log(t.data),y({id:t.data.id,photo:t.data.photo,coordinates:{latitude:t.data.coordinates.latitude,longitude:t.data.coordinates.longitude},description:t.data.description,title:t.data.title,authorUid:t.data.authorUid,categoryId:t.data.categoryId,creationDate:t.data.creationDate,status:t.data.status,likeCount:t.data.likeCount})}catch(e){console.error("Error fetching issue:",e)}},x=(0,w.Z)((0,k.a)().user.accessToken),[v,y]=(0,j.useState)(null),[_,C]=(0,j.useState)("Mark as solved"),[S,E]=(0,j.useState)("Reserve issue"),[L,N]=(0,j.useState)(!1),b=()=>{"SOLVED"==v.status?(y(e=>({...e,status:"SOLVING"})),C("Mark as solved")):(y(e=>({...e,status:"SOLVED"})),C("Mark as solving"))},M=()=>{y(e=>({...e,status:"SOLVING"})),E("Reserved"),N(!0)};return(0,j.useEffect)(()=>{t&&s(t)},[t]),(0,i.jsx)(n.Z,{component:"main",sx:{flexGrow:1,py:8},children:(0,i.jsx)(a.Z,{maxWidth:"lg",children:(0,i.jsx)(r.Z,{spacing:3,children:(0,i.jsxs)(o.Z,{children:[(0,i.jsx)(l.Z,{subheader:v?"#"+v.id:null,title:v?v.title:null,action:(0,i.jsx)(f.Z,{component:g(),href:"/issues",children:(0,i.jsx)(p.Z,{})})}),(0,i.jsx)(d.Z,{}),(0,i.jsx)(u.Z,{children:(0,i.jsxs)(c.ZP,{container:!0,spacing:6,wrap:"wrap",children:[(0,i.jsx)(c.ZP,{item:!0,xs:8,children:(0,i.jsx)(r.Z,{spacing:1,children:(0,i.jsxs)(r.Z,{children:[(0,i.jsx)(h.Z,{children:v?v.description:null}),(0,i.jsx)("img",{alt:"Under development",src:v?v.photo:null,style:{display:"inline-block",maxWidth:"100%",width:400}})]})})}),(0,i.jsx)(c.ZP,{item:!0,xs:4,children:(0,i.jsx)(r.Z,{spacing:1,children:(0,i.jsxs)(r.Z,{spacing:2,children:[(0,i.jsx)(h.Z,{children:v?v.coordinates.latitude+" "+v.coordinates.longitude:null}),(0,i.jsx)(h.Z,{children:v?"Likes: "+v.likeCount:null}),(0,i.jsx)(h.Z,{children:v?v.status:null}),(0,i.jsx)(h.Z,{children:v?v.creationDate.substring(0,10):null}),(0,i.jsx)("div",{style:{display:"inline-flex"}}),(0,i.jsx)(Z.Z,{onClick:b,children:_}),(0,i.jsx)(Z.Z,{disabled:L,onClick:M,children:S})]})})})]})})]})})})})};y.getLayout=e=>(0,i.jsx)(x.A,{children:e}),t.default=y},6822:function(e,t,s){"use strict";var i=s(5121);let n=()=>{let e=i.Z.create({baseURL:"https://bettercity.mikita.dev",timeout:8e3,headers:{Authorization:"Bearer "+window.sessionStorage.getItem("token")}});return e};t.Z=n}},function(e){e.O(0,[823,549,837,258,723,334,774,888,179],function(){return e(e.s=4242)}),_N_E=e.O()}]);